# -*- coding: iso-8859-15 -*-

SAMPLE_RESPONSE = """<?xml version="1.0" encoding="UTF-8" standalone="yes"?><chart sYAxisNameFontBold="0" sYAxisNameFontColor="859AA6" labelFontColor="4B4B4B" xAxisNameFontBold="0" yAxisNameFontBold="0" pYAxisNameFontColor="859AA6" xAxisNameFontColor="859AA6" animation="1"  animationDuration="1" tooltipcolor="FFFFFF" yAxisValueDecimals="2" xAxisName="" toolTipBorderColor="FFFFFF" toolTipBgColor="0B74BE" showYAxisValues="1" showValues="0" showPlotBorder="0" showLegend="0" setAdaptiveSYMin="1" sYAxisValueDecimals="0" sNumberSuffix="°F" plotGradientColor="" plotFillAlpha="100" plotBorderThickness="0" numberPrefix="$" numDivLines="5" labelDisplay="NONE" forceDecimals="true" exportEnabled="0" exportAtClient="0" chartRightMargin="2" chartLeftMargin="2" chartBottomMargin="2" canvasBorderColor="DFF3FE" canvasBgColor="DFF3FE" borderThickness="0" borderColor="DFF3FE" bgColor="DFF3FE" anchorRadius="4.5" anchorBorderThickness="2" anchorBorderColor="FFFFFF" anchorBgColor="F4D13F" adjustDiv="0" SYAxisName="Temperature (°F)" SYAxisMinValue="82.0" SYAxisMaxValue="94.0" PYAxisName="Cost ($)" PYAxisMaxValue="5.22"><categories><category label="23{br}F{br}Jun{br}"/><category label="24{br}S{br}{br}"/><category label="25{br}Su{br}{br}"/><category label="26{br}M{br}{br}"/><category label="27{br}Tu{br}{br}"/><category label="28{br}W{br}{br}"/><category label="29{br}Th{br}{br}"/><category label="30{br}F{br}{br}"/><category label="01{br}S{br}{br}"/><category label="02{br}Su{br}{br}"/><category label="03{br}M{br}{br}"/><category label="04{br}Tu{br}{br}"/><category label="05{br}W{br}Jul{br}"/></categories><dataset seriesName="$" parentYAxis="P"><set value="1.83" toolText="Day/Date: Jun. 23, 2017 {br}kWh Usage: 14 kWh {br}Approx. Cost: $1.83 {br}Daily High Temp: 88 °F " link="j-hourlyJs-183732653,2017/06/23T00:00:00,2017/06/23T00:00:00,0574925590,residential,32905,20170623,20170705" color="009900"/><set value="4.0" toolText="Day/Date: Jun. 24, 2017 {br}kWh Usage: 34 kWh {br}Approx. Cost: $4.00 {br}Daily High Temp: 92 °F " link="j-hourlyJs-183732653,2017/06/24T00:00:00,2017/06/24T00:00:00,0574925590,residential,32905,20170623,20170705" color="E99356"/><set value="4.43" toolText="Day/Date: Jun. 25, 2017 {br}kWh Usage: 38 kWh {br}Approx. Cost: $4.43 {br}Daily High Temp: 90 °F " link="j-hourlyJs-183732653,2017/06/25T00:00:00,2017/06/25T00:00:00,0574925590,residential,32905,20170623,20170705" color="E99356"/><set value="4.11" toolText="Day/Date: Jun. 26, 2017 {br}kWh Usage: 35 kWh {br}Approx. Cost: $4.11 {br}Daily High Temp: 90 °F " link="j-hourlyJs-183732653,2017/06/26T00:00:00,2017/06/26T00:00:00,0574925590,residential,32905,20170623,20170705" color="009900"/><set value="3.24" toolText="Day/Date: Jun. 27, 2017 {br}kWh Usage: 27 kWh {br}Approx. Cost: $3.24 {br}Daily High Temp: 89 °F " link="j-hourlyJs-183732653,2017/06/27T00:00:00,2017/06/27T00:00:00,0574925590,residential,32905,20170623,20170705" color="009900"/><set value="3.78" toolText="Day/Date: Jun. 28, 2017 {br}kWh Usage: 32 kWh {br}Approx. Cost: $3.78 {br}Daily High Temp: 87 °F " link="j-hourlyJs-183732653,2017/06/28T00:00:00,2017/06/28T00:00:00,0574925590,residential,32905,20170623,20170705" color="009900"/><set value="3.89" toolText="Day/Date: Jun. 29, 2017 {br}kWh Usage: 33 kWh {br}Approx. Cost: $3.89 {br}Daily High Temp: 87 °F " link="j-hourlyJs-183732653,2017/06/29T00:00:00,2017/06/29T00:00:00,0574925590,residential,32905,20170623,20170705" color="009900"/><set value="4.0" toolText="Day/Date: Jun. 30, 2017 {br}kWh Usage: 34 kWh {br}Approx. Cost: $4.00 {br}Daily High Temp: 87 °F " link="j-hourlyJs-183732653,2017/06/30T00:00:00,2017/06/30T00:00:00,0574925590,residential,32905,20170623,20170705" color="009900"/><set value="4.22" toolText="Day/Date: Jul. 01, 2017 {br}kWh Usage: 36 kWh {br}Approx. Cost: $4.22 {br}Daily High Temp: 85 °F " link="j-hourlyJs-183732653,2017/07/01T00:00:00,2017/07/01T00:00:00,0574925590,residential,32905,20170623,20170705" color="E99356"/><set value="5.19" toolText="Day/Date: Jul. 02, 2017 {br}kWh Usage: 45 kWh {br}Approx. Cost: $5.19 {br}Daily High Temp: 91 °F " link="j-hourlyJs-183732653,2017/07/02T00:00:00,2017/07/02T00:00:00,0574925590,residential,32905,20170623,20170705" color="E99356"/><set value="3.67" toolText="Day/Date: Jul. 03, 2017 {br}kWh Usage: 31 kWh {br}Approx. Cost: $3.67 {br}Daily High Temp: 91 °F " link="j-hourlyJs-183732653,2017/07/03T00:00:00,2017/07/03T00:00:00,0574925590,residential,32905,20170623,20170705" color="009900"/><set value="4.54" toolText="Day/Date: Jul. 04, 2017 {br}kWh Usage: 39 kWh {br}Approx. Cost: $4.54 {br}Daily High Temp: 91 °F " link="j-hourlyJs-183732653,2017/07/04T00:00:00,2017/07/04T00:00:00,0574925590,residential,32905,20170623,20170705" color="E99356"/><set value="3.78" toolText="Day/Date: Jul. 05, 2017 {br}kWh Usage: 32 kWh {br}Approx. Cost: $3.78 {br}Daily High Temp: 84 °F " link="j-hourlyJs-183732653,2017/07/05T00:00:00,2017/07/05T00:00:00,0574925590,residential,32905,20170623,20170705" color="009900"/></dataset><dataset seriesName="Temperature (°F)" parentYAxis="S"><set value="88" toolText="88 °F" color="FD4D4E"/><set value="92" toolText="92 °F" color="FD4D4E"/><set value="90" toolText="90 °F" color="FD4D4E"/><set value="90" toolText="90 °F" color="FD4D4E"/><set value="89" toolText="89 °F" color="FD4D4E"/><set value="87" toolText="87 °F" color="FD4D4E"/><set value="87" toolText="87 °F" color="FD4D4E"/><set value="87" toolText="87 °F" color="FD4D4E"/><set value="85" toolText="85 °F" color="FD4D4E"/><set value="91" toolText="91 °F" color="FD4D4E"/><set value="91" toolText="91 °F" color="FD4D4E"/><set value="91" toolText="91 °F" color="FD4D4E"/><set value="84" toolText="84 °F" color="FD4D4E"/></dataset><styles><definition><style type="animation" start="0" param="_xScale" name="CanvasAnim" duration="1"/><style type="font" name="axisNameStyle" color="859AA6" bold="false"/><style type="font" size="10" name="myToolTipFont" font="Verdana" color="FFFFFF"/></definition><application><apply toObject="Canvas" styles="CanvasAnim"/><apply toObject="ToolTip" styles="myToolTipFont"/><apply toObject="XAXISNAME" styles="axisNameStyle"/><apply toObject="YAXISNAME" styles="axisNameStyle"/></application></styles></chart><ARG>@@2017/07/05T00:00:00@@2017/07/05T00:00:00@@183732653@@0574925590@@32905@@null@@<b>Usage for: </b>Jun. 23, 2017 12:00 AM - Jul. 05, 2017 12:00AM.  &&&&&Average daily usage: </b>$3.90 (33 kWh)@@false@@false@@null@@null@@null@@null@@JUL,2017@@0@@20170623@@20170705@@Empty @@Empty @@true</ARG>FLAGfalse!!!!false!!!!false!!!!!!!!20170623!!!!20170705!!!!null!!!!true"""
SAMPLE_HOURLY_RESPONSE = """<?xml version="1.0" encoding="UTF-8" standalone="yes"?><chart sYAxisNameFontBold="0" sYAxisNameFontColor="859AA6" labelFontColor="4B4B4B" xAxisNameFontBold="0" yAxisNameFontBold="0" pYAxisNameFontColor="859AA6" xAxisNameFontColor="859AA6" animation="1"  animationDuration="1" tooltipcolor="FFFFFF" yAxisValueDecimals="2" xAxisName="" toolTipBorderColor="FFFFFF" toolTipBgColor="0B74BE" showYAxisValues="1" showValues="0" showPlotBorder="0" showLegend="0" setAdaptiveSYMin="1" sYAxisValueDecimals="0" sNumberSuffix="°F" plotGradientColor="" plotFillAlpha="100" plotBorderThickness="0" numberPrefix="$" numDivLines="5" labelDisplay="WRAP" forceDecimals="true" exportEnabled="0" exportAtClient="0" chartRightMargin="2" chartLeftMargin="2" chartBottomMargin="2" canvasBorderColor="DFF3FE" canvasBgColor="DFF3FE" borderThickness="0" borderColor="DFF3FE" bgColor="DFF3FE" anchorRadius="4.5" anchorBorderThickness="2" anchorBorderColor="FFFFFF" anchorBgColor="F4D13F" adjustDiv="0" SYAxisName="Temperature (°F)" SYAxisMinValue="72.0" SYAxisMaxValue="90.0" PYAxisName="Cost ($)" PYAxisMinValue="0" PYAxisMaxValue="0.38"><categories><category label="1{br}AM"/><category label="2{br}AM"/><category label="3{br}AM"/><category label="4{br}AM"/><category label="5{br}AM"/><category label="6{br}AM"/><category label="7{br}AM"/><category label="8{br}AM"/><category label="9{br}AM"/><category label="10{br}AM"/><category label="11{br}AM"/><category label="12{br}PM"/><category label="1{br}PM"/><category label="2{br}PM"/><category label="3{br}PM"/><category label="4{br}PM"/><category label="5{br}PM"/><category label="6{br}PM"/><category label="7{br}PM"/><category label="8{br}PM"/><category label="9{br}PM"/><category label="10{br}PM"/><category label="11{br}PM"/><category label="12{br}AM"/></categories><dataset seriesName="$" parentYAxis="P"><set value="0.12" toolText="Time: 12:00AM to 1:00AM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 75 °F" link="" color="009900"/><set value="0.12" toolText="Time: 1:00AM to 2:00AM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 75 °F" link="" color="009900"/><set value="0.01" toolText="Time: 2:00AM to 3:00AM {br}kWh Usage: 0 kWh{br}Approx. Cost: $0.01{br}Hourly Temp: 75 °F" link="" color="009900"/><set value="0.12" toolText="Time: 3:00AM to 4:00AM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 74 °F" link="" color="009900"/><set value="0.12" toolText="Time: 4:00AM to 5:00AM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 74 °F" link="" color="009900"/><set value="0.12" toolText="Time: 5:00AM to 6:00AM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 74 °F" link="" color="009900"/><set value="0.12" toolText="Time: 6:00AM to 7:00AM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 74 °F" link="" color="009900"/><set value="0.12" toolText="Time: 7:00AM to 8:00AM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 79 °F" link="" color="009900"/><set value="0.23" toolText="Time: 8:00AM to 9:00AM {br}kWh Usage: 2 kWh{br}Approx. Cost: $0.23{br}Hourly Temp: 83 °F" link="" color="009900"/><set value="0.12" toolText="Time: 9:00AM to 10:00AM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 85 °F" link="" color="009900"/><set value="0.12" toolText="Time: 10:00AM to 11:00AM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 86 °F" link="" color="009900"/><set value="0.12" toolText="Time: 11:00AM to 12:00PM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 84 °F" link="" color="009900"/><set value="0.12" toolText="Time: 12:00PM to 1:00PM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 84 °F" link="" color="009900"/><set value="0.12" toolText="Time: 1:00PM to 2:00PM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 88 °F" link="" color="009900"/><set value="0.23" toolText="Time: 2:00PM to 3:00PM {br}kWh Usage: 2 kWh{br}Approx. Cost: $0.23{br}Hourly Temp: 89 °F" link="" color="009900"/><set value="0.12" toolText="Time: 3:00PM to 4:00PM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 88 °F" link="" color="009900"/><set value="0.12" toolText="Time: 4:00PM to 5:00PM {br}kWh Usage: 1 kWh{br}Approx. Cost: $0.12{br}Hourly Temp: 88 °F" link="" color="009900"/><set value="0.23" toolText="Time: 5:00PM to 6:00PM {br}kWh Usage: 2 kWh{br}Approx. Cost: $0.23{br}Hourly Temp: 87 °F" link="" color="009900"/><set value="0.23" toolText="Time: 6:00PM to 7:00PM {br}kWh Usage: 2 kWh{br}Approx. Cost: $0.23{br}Hourly Temp: 85 °F" link="" color="009900"/><set value="0.34" toolText="Time: 7:00PM to 8:00PM {br}kWh Usage: 3 kWh{br}Approx. Cost: $0.34{br}Hourly Temp: 84 °F" link="" color="009900"/><set value="0.34" toolText="Time: 8:00PM to 9:00PM {br}kWh Usage: 3 kWh{br}Approx. Cost: $0.34{br}Hourly Temp: 83 °F" link="" color="009900"/><set value="0.23" toolText="Time: 9:00PM to 10:00PM {br}kWh Usage: 2 kWh{br}Approx. Cost: $0.23{br}Hourly Temp: 82 °F" link="" color="009900"/><set value="0.34" toolText="Time: 10:00PM to 11:00PM {br}kWh Usage: 3 kWh{br}Approx. Cost: $0.34{br}Hourly Temp: 81 °F" link="" color="009900"/><set value="0.23" toolText="Time: 11:00PM to 12:00AM {br}kWh Usage: 2 kWh{br}Approx. Cost: $0.23{br}Hourly Temp: 81 °F" link="" color="009900"/></dataset><dataset seriesName="Temperature (°F)" parentYAxis="S"><set value="75" toolText="75 °F" color="FD4D4E"/><set value="75" toolText="75 °F" color="FD4D4E"/><set value="75" toolText="75 °F" color="FD4D4E"/><set value="74" toolText="74 °F" color="FD4D4E"/><set value="74" toolText="74 °F" color="FD4D4E"/><set value="74" toolText="74 °F" color="FD4D4E"/><set value="74" toolText="74 °F" color="FD4D4E"/><set value="79" toolText="79 °F" color="FD4D4E"/><set value="83" toolText="83 °F" color="FD4D4E"/><set value="85" toolText="85 °F" color="FD4D4E"/><set value="86" toolText="86 °F" color="FD4D4E"/><set value="84" toolText="84 °F" color="FD4D4E"/><set value="84" toolText="84 °F" color="FD4D4E"/><set value="88" toolText="88 °F" color="FD4D4E"/><set value="89" toolText="89 °F" color="FD4D4E"/><set value="88" toolText="88 °F" color="FD4D4E"/><set value="88" toolText="88 °F" color="FD4D4E"/><set value="87" toolText="87 °F" color="FD4D4E"/><set value="85" toolText="85 °F" color="FD4D4E"/><set value="84" toolText="84 °F" color="FD4D4E"/><set value="83" toolText="83 °F" color="FD4D4E"/><set value="82" toolText="82 °F" color="FD4D4E"/><set value="81" toolText="81 °F" color="FD4D4E"/><set value="81" toolText="81 °F" color="FD4D4E"/></dataset><styles><definition><style type="animation" start="0" param="_xScale" name="CanvasAnim" duration="1"/><style type="font" name="axisNameStyle" color="859AA6" bold="false"/><style type="font" size="10" name="myToolTipFont" font="Verdana" color="FFFFFF"/></definition><application><apply toObject="Canvas" styles="CanvasAnim"/><apply toObject="ToolTip" styles="myToolTipFont"/><apply toObject="XAXISNAME" styles="axisNameStyle"/><apply toObject="YAXISNAME" styles="axisNameStyle"/></application></styles></chart><ARG><b>Usage for: </b>Tuesday Jul. 11, 2017. &&&&&Average hourly usage: </b>$0.17 (1.45 kWh)@@<?xml version="1.0" encoding="UTF-8" standalone="yes"?><chart sYAxisNameFontBold="0" sYAxisNameFontColor="859AA6" labelFontColor="4B4B4B" xAxisNameFontBold="0" yAxisNameFontBold="0" pYAxisNameFontColor="859AA6" xAxisNameFontColor="859AA6" animation="1"  animationDuration="1" tooltipcolor="FFFFFF" yAxisValueDecimals="2" xAxisName="" toolTipBorderColor="FFFFFF" toolTipBgColor="0B74BE" showYAxisValues="1" showValues="0" showPlotBorder="0" showLegend="0" setAdaptiveSYMin="1" sYAxisValueDecimals="2" sNumberSuffix="°F" plotGradientColor="5CC151" plotFillAlpha="100" plotBorderThickness="0" numDivLines="5" labelDisplay="WRAP" forceDecimals="true" exportEnabled="0" exportAtClient="0" chartRightMargin="2" chartLeftMargin="2" chartBottomMargin="2" canvasBorderColor="DFF3FE" canvasBgColor="DFF3FE" borderThickness="0" borderColor="DFF3FE" bgColor="DFF3FE" anchorRadius="4.5" anchorBorderThickness="2" anchorBorderColor="FFFFFF" anchorBgColor="F4D13F" adjustDiv="0" SYAxisName="Temperature (°F)" SYAxisMinValue="72.0" SYAxisMaxValue="90.0" PYAxisName="Kilowatt Hours (kWh)" PYAxisMinValue="0" PYAxisMaxValue="3.5"><categories><category label="1{br}AM"/><category label="2{br}AM"/><category label="3{br}AM"/><category label="4{br}AM"/><category label="5{br}AM"/><category label="6{br}AM"/><category label="7{br}AM"/><category label="8{br}AM"/><category label="9{br}AM"/><category label="10{br}AM"/><category label="11{br}AM"/><category label="12{br}PM"/><category label="1{br}PM"/><category label="2{br}PM"/><category label="3{br}PM"/><category label="4{br}PM"/><category label="5{br}PM"/><category label="6{br}PM"/><category label="7{br}PM"/><category label="8{br}PM"/><category label="9{br}PM"/><category label="10{br}PM"/><category label="11{br}PM"/><category label="12{br}AM"/></categories><dataset seriesName=" kWh" parentYAxis="P"><set value="1.04" toolText="Time: 12:00AM to 1:00AM {br}kWh Usage: 1.04 kWh{br}Hourly Temp: 75 °F" link="" color="009900"/><set value="0.9" toolText="Time: 1:00AM to 2:00AM {br}kWh Usage: 0.90 kWh{br}Hourly Temp: 75 °F" link="" color="009900"/><set value="0.65" toolText="Time: 2:00AM to 3:00AM {br}kWh Usage: 0.65 kWh{br}Hourly Temp: 75 °F" link="" color="009900"/><set value="0.61" toolText="Time: 3:00AM to 4:00AM {br}kWh Usage: 0.61 kWh{br}Hourly Temp: 74 °F" link="" color="009900"/><set value="0.85" toolText="Time: 4:00AM to 5:00AM {br}kWh Usage: 0.85 kWh{br}Hourly Temp: 74 °F" link="" color="009900"/><set value="0.6" toolText="Time: 5:00AM to 6:00AM {br}kWh Usage: 0.60 kWh{br}Hourly Temp: 74 °F" link="" color="009900"/><set value="1.34" toolText="Time: 6:00AM to 7:00AM {br}kWh Usage: 1.34 kWh{br}Hourly Temp: 74 °F" link="" color="009900"/><set value="1.2" toolText="Time: 7:00AM to 8:00AM {br}kWh Usage: 1.20 kWh{br}Hourly Temp: 79 °F" link="" color="009900"/><set value="2.14" toolText="Time: 8:00AM to 9:00AM {br}kWh Usage: 2.14 kWh{br}Hourly Temp: 83 °F" link="" color="009900"/><set value="0.73" toolText="Time: 9:00AM to 10:00AM {br}kWh Usage: 0.73 kWh{br}Hourly Temp: 85 °F" link="" color="009900"/><set value="0.86" toolText="Time: 10:00AM to 11:00AM {br}kWh Usage: 0.86 kWh{br}Hourly Temp: 86 °F" link="" color="009900"/><set value="0.88" toolText="Time: 11:00AM to 12:00PM {br}kWh Usage: 0.88 kWh{br}Hourly Temp: 84 °F" link="" color="009900"/><set value="1.33" toolText="Time: 12:00PM to 1:00PM {br}kWh Usage: 1.33 kWh{br}Hourly Temp: 84 °F" link="" color="009900"/><set value="1.26" toolText="Time: 1:00PM to 2:00PM {br}kWh Usage: 1.26 kWh{br}Hourly Temp: 88 °F" link="" color="009900"/><set value="1.32" toolText="Time: 2:00PM to 3:00PM {br}kWh Usage: 1.32 kWh{br}Hourly Temp: 89 °F" link="" color="009900"/><set value="1.25" toolText="Time: 3:00PM to 4:00PM {br}kWh Usage: 1.25 kWh{br}Hourly Temp: 88 °F" link="" color="009900"/><set value="1.2" toolText="Time: 4:00PM to 5:00PM {br}kWh Usage: 1.20 kWh{br}Hourly Temp: 88 °F" link="" color="009900"/><set value="1.51" toolText="Time: 5:00PM to 6:00PM {br}kWh Usage: 1.51 kWh{br}Hourly Temp: 87 °F" link="" color="009900"/><set value="1.98" toolText="Time: 6:00PM to 7:00PM {br}kWh Usage: 1.98 kWh{br}Hourly Temp: 85 °F" link="" color="009900"/><set value="3.22" toolText="Time: 7:00PM to 8:00PM {br}kWh Usage: 3.22 kWh{br}Hourly Temp: 84 °F" link="" color="009900"/><set value="3.24" toolText="Time: 8:00PM to 9:00PM {br}kWh Usage: 3.24 kWh{br}Hourly Temp: 83 °F" link="" color="009900"/><set value="2.02" toolText="Time: 9:00PM to 10:00PM {br}kWh Usage: 2.02 kWh{br}Hourly Temp: 82 °F" link="" color="009900"/><set value="3.46" toolText="Time: 10:00PM to 11:00PM {br}kWh Usage: 3.46 kWh{br}Hourly Temp: 81 °F" link="" color="009900"/><set value="2.0" toolText="Time: 11:00PM to 12:00AM {br}kWh Usage: 2.00 kWh{br}Hourly Temp: 81 °F" link="" color="009900"/></dataset><dataset seriesName="Temperature (°F)" parentYAxis="S"><set value="75" toolText="75 °F" color="FD4D4E"/><set value="75" toolText="75 °F" color="FD4D4E"/><set value="75" toolText="75 °F" color="FD4D4E"/><set value="74" toolText="74 °F" color="FD4D4E"/><set value="74" toolText="74 °F" color="FD4D4E"/><set value="74" toolText="74 °F" color="FD4D4E"/><set value="74" toolText="74 °F" color="FD4D4E"/><set value="79" toolText="79 °F" color="FD4D4E"/><set value="83" toolText="83 °F" color="FD4D4E"/><set value="85" toolText="85 °F" color="FD4D4E"/><set value="86" toolText="86 °F" color="FD4D4E"/><set value="84" toolText="84 °F" color="FD4D4E"/><set value="84" toolText="84 °F" color="FD4D4E"/><set value="88" toolText="88 °F" color="FD4D4E"/><set value="89" toolText="89 °F" color="FD4D4E"/><set value="88" toolText="88 °F" color="FD4D4E"/><set value="88" toolText="88 °F" color="FD4D4E"/><set value="87" toolText="87 °F" color="FD4D4E"/><set value="85" toolText="85 °F" color="FD4D4E"/><set value="84" toolText="84 °F" color="FD4D4E"/><set value="83" toolText="83 °F" color="FD4D4E"/><set value="82" toolText="82 °F" color="FD4D4E"/><set value="81" toolText="81 °F" color="FD4D4E"/><set value="81" toolText="81 °F" color="FD4D4E"/></dataset><styles><definition><style type="animation" start="0" param="_xScale" name="CanvasAnim" duration="1"/><style type="font" name="axisNameStyle" color="859AA6" bold="false"/><style type="font" size="10" name="myToolTipFont" font="Verdana" color="FFFFFF"/></definition><application><apply toObject="Canvas" styles="CanvasAnim"/><apply toObject="ToolTip" styles="myToolTipFont"/><apply toObject="XAXISNAME" styles="axisNameStyle"/><apply toObject="YAXISNAME" styles="axisNameStyle"/></application></styles></chart>@@<b>Usage for: </b>Tuesday Jul. 11, 2017. &&&&&Average hourly usage: </b>1.45 kWh@@0</ARG>hourZerofalse false!!!!false!!!!20170623!!!!20170712!!!!false!!!!true"""

"""Time: 3:00PM to 4:00PM {br}kWh Usage: 1.25 kWh{br}Hourly Temp: 88 °F"""

DAY_DATE ="Day/Date: "
TIME = "Time: "
KWH_USAGE = "kWh Usage: "
APPROX_COST = "Approx. Cost: $"
TEMP_HIGH = "Daily High Temp: "
HOURLY_TEMP = "Hourly Temp:  "


def _parse_number(raw_input_string, field_name_str):
    value = -1
    _, _, parsed_string = raw_input_string.partition(field_name_str)
    if parsed_string:
        parsed_string = parsed_string.replace(',','')
        number_string = parsed_string.split()[0]
        if '.' in number_string:
            value = float(number_string)
        else:
            value = int(number_string)
    return value

def _parse_time(raw_date_string):
    _, _, date_string = raw_date_string.partition(DAY_DATE)
    date_string = date_string.strip()
    date_string = date_string.replace(',', '')
    date_string = date_string.replace('.', '')


def _parse_date(raw_date_string):
    _, _, date_string = raw_date_string.partition(DAY_DATE)
    date_string = date_string.strip()
    date_string = date_string.replace(',', '')
    date_string = date_string.replace('.', '')

    if date_string:
        from datetime import datetime
        datetime_obj = datetime.strptime(date_string, '%b %d %Y')
        return datetime_obj

def _parse_kwh_usage(raw_kwh_string):
    return _parse_number(raw_kwh_string, KWH_USAGE)

def _parse_approx_cost(raw_ac_string):
    return _parse_number(raw_ac_string, APPROX_COST)

def _parse_temp(raw_temp_string):
    return _parse_number(raw_temp_string, TEMP_HIGH)

class UsageData(object):

    def __init__(self, raw_data_string):
        parsed_data_string = raw_data_string.split('{br}')
        self.date_time = _parse_date(parsed_data_string[0])
        self.kwh = _parse_kwh_usage(parsed_data_string[1])
        self.approx_cost = _parse_approx_cost(parsed_data_string[2])
        self.top_temp = _parse_temp(parsed_data_string[3])

    def __repr__(self):
        return ' '.join([str(self.date_time.date()),
                         str(self.date_time.time()),
                         str(self.kwh)+"kwh",
                         '$'+ str(self.approx_cost),
                         str(self.top_temp)+"F"])


def parse_daily_usage(raw_response):
    from lxml import html

    etree_response = html.fromstring(raw_response)
    data = etree_response.findall('chart/dataset')

    relevant_data = []
    for data_set in data:
        if data_set.attrib['seriesname'] == '$':
            for data_point in data_set:
                relevant_data.append(UsageData(data_point.attrib['tooltext']))
            break
    return relevant_data

def parse_hourly_usage(raw_response):
    from lxml import html

    etree_response = html.fromstring(raw_response)
    data = etree_response.findall('chart/dataset')

    relevant_data = []
    for data_set in data:
        if data_set.attrib['seriesname'] == '$':
            for data_point in data_set:
                relevant_data.append(UsageData(data_point.attrib['tooltext']))
            break
    return relevant_data

if __name__ == "__main__":
    data_range = parse_daily_usage(SAMPLE_RESPONSE)
    for data_point in data_range:
        print data_point
